<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
		<style>
			li{height: 30px;line-height: 30px;list-style: none; background: red; margin: 20px 0;width: 200px;}
		</style>
	</head>
	<body>
		<button>插入li</button>
		<ul>
			<li>item1</li>
			<li class="item">item2</li>
			<li>item3</li>
			<li class="item">item4</li>
		</ul>
		<script>
			// 为不确定的元素绑事件
			// 写法更简单
			// 效率更高
			var ul = document.querySelector("ul");
			var lis = document.querySelectorAll("li");
			var btn = document.querySelector("button");
			/* for(var i = 0; i < lis.length; i++) {
				lis[i].onclick = function () {
					alert(this.innerHTML);
				}
			} */
			
			// 利用事件冒泡把子元素的事件委托给父级
			ul.onclick = function (e) {
				e = e || event;
				
				// 找到触发事件的li, 事件源(目标阶段元素)
				var target = e.target || e.srcElement; // 事件源的兼容写法
				
				// 判断事件源是否是希望绑定事件得元素
				// if(target.nodeName === "LI"){
				if(target.className === "item"){
					console.log(target);
					alert(target.innerHTML);	
				}	
			}
			
			btn.onclick = function () {
				var li = document.createElement("li");
				li.innerHTML = "itemX";
				/* li.onclick = function () {
					alert(this.innerHTML);
				} */
				ul.appendChild(li);
			}
		</script>
	</body>
</html>
